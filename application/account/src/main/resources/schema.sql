create table account (id int8 generated by default as identity, expiration_date timestamp, locked boolean, nom varchar(50), primary_address int8, company_id int8, contact int8, fiscal_address int8, privacy_detail int8, primary key (id));
create table address (id int8 generated by default as identity, postal_address varchar(255), postal_address_mention varchar(256), postal_city varchar(255), postal_country varchar(255), postal_postcode varchar(255), primary key (id));
create table bank_info (id int8 generated by default as identity, bic varchar(50), iban varchar(50), owner varchar(50), rib_url varchar(256), address int8, primary key (id));
create table company (id int8 generated by default as identity, appartenance_groupe varchar(50), capital varchar(50), code_naf varchar(50), forme_juridique varchar(50), kbis_url varchar(256), nom_commercial varchar(50), num_duns varchar(50), num_tva varchar(50), raison_social varchar(50), rc_url varchar(256), rcs varchar(50), rib_url varchar(256), siret varchar(50), type_entreprise varchar(50), bank_info_id int8, contact_id int8, primary key (id));
create table contact (id int8 generated by default as identity, email varchar(100), email2 varchar(100), fax varchar(50), prenom varchar(50), image_url varchar(256), landline varchar(50), lang_key varchar(6), nom varchar(50), phone varchar(50), address int8, primary key (id));
create table privacy_detail (id int8 generated by default as identity, birth_city varchar(255), birth_country varchar(255), birth_date date, casier_judiciaire_url varchar(256), cin_url varchar(256), citizenship varchar(255), diploma_url varchar(256), information varchar(255), social_security_number varchar(50), social_security_url varchar(256), visa_url varchar(256), primary key (id));

alter table if exists contact drop constraint if exists UK_gnqwbwwcn7x0m5jlt4158dass;
alter table if exists contact add constraint UK_gnqwbwwcn7x0m5jlt4158dass unique (email);
alter table if exists contact drop constraint if exists UK_54gidfcvi6w6jt43dr4lkl3i5;
alter table if exists contact add constraint UK_54gidfcvi6w6jt43dr4lkl3i5 unique (email2);
alter table if exists account add constraint FKb8arhx3mim1s0k6mktl5g8v2y foreign key (primary_address) references address;
alter table if exists account add constraint FKyx9qhair86pc6tnbh322xjg4 foreign key (company_id) references company;
alter table if exists account add constraint FKa0ovlnr8y6hjd2r4ck4wvy98e foreign key (contact) references contact;
alter table if exists account add constraint FKehcxmh53345fcwe1gjtn3nduo foreign key (fiscal_address) references address;
alter table if exists account add constraint FKtr4fs07tg5fqai2poi6j2l74e foreign key (privacy_detail) references privacy_detail;
alter table if exists bank_info add constraint FKc3xy929wxlodf7cbn7o6ws0fk foreign key (address) references address;
alter table if exists company add constraint FKpfad94xqv57gonkfou9d7mk6o foreign key (bank_info_id) references bank_info;
alter table if exists company add constraint FK45nuqqimbkvrnvrb7877q62tm foreign key (contact_id) references contact;
alter table if exists contact add constraint FK456ee7eptfwxg3hkn8gqnly8x foreign key (address) references address;